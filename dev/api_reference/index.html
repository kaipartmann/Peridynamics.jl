<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Reference · Peridynamics.jl</title><meta name="title" content="API Reference · Peridynamics.jl"/><meta property="og:title" content="API Reference · Peridynamics.jl"/><meta property="twitter:title" content="API Reference · Peridynamics.jl"/><meta name="description" content="Documentation for Peridynamics.jl."/><meta property="og:description" content="Documentation for Peridynamics.jl."/><meta property="twitter:description" content="Documentation for Peridynamics.jl."/><meta property="og:url" content="https://kaipartmann.github.io/Peridynamics.jl/api_reference/"/><meta property="twitter:url" content="https://kaipartmann.github.io/Peridynamics.jl/api_reference/"/><link rel="canonical" href="https://kaipartmann.github.io/Peridynamics.jl/api_reference/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/custom.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="Peridynamics.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">Peridynamics.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Explanations</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../expl_general_pd/">Basics of peridynamics theory</a></li><li><a class="tocitem" href="../expl_bondbased/">Bond-based peridynamics</a></li><li><a class="tocitem" href="../expl_osbased/">Ordinary state-based peridynamics</a></li><li><a class="tocitem" href="../expl_nosbased/">Non-ordinary state-based peridynamics</a></li><li><a class="tocitem" href="../expl_continuumbased/">Continuum-kinematics-inspired peridynamics</a></li><li><a class="tocitem" href="../expl_references/">References</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">How-to guides</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../howto_mpi/">Simulations with MPI</a></li><li><a class="tocitem" href="../howto_visualization/">Visualization with ParaView</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../generated/tutorial_tension_static/">Tensile test quasi-static</a></li><li><a class="tocitem" href="../generated/tutorial_tension_dynfrac/">Tensile test dynamic</a></li><li><a class="tocitem" href="../generated/tutorial_tension_precrack/">Tension with predefined crack</a></li><li><a class="tocitem" href="../generated/tutorial_wave_in_bar/">Wave propagation in a thin bar</a></li><li><a class="tocitem" href="../generated/tutorial_logo/">Peridynamics.jl Logo</a></li></ul></li><li class="is-active"><a class="tocitem" href>API Reference</a><ul class="internal"><li><a class="tocitem" href="#Material-models"><span>Material models</span></a></li><li><a class="tocitem" href="#System-related-types"><span>System related types</span></a></li><li><a class="tocitem" href="#Discretization"><span>Discretization</span></a></li><li><a class="tocitem" href="#Preprocessing-and-simulation-setup"><span>Preprocessing &amp; simulation setup</span></a></li><li><a class="tocitem" href="#Solving"><span>Solving</span></a></li><li><a class="tocitem" href="#Postprocessing"><span>Postprocessing</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API Reference</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/kaipartmann/Peridynamics.jl/blob/main/docs/src/api_reference.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Peridynamics.jl-public-API"><a class="docs-heading-anchor" href="#Peridynamics.jl-public-API">Peridynamics.jl public API</a><a id="Peridynamics.jl-public-API-1"></a><a class="docs-heading-anchor-permalink" href="#Peridynamics.jl-public-API" title="Permalink"></a></h1><ul><li><a href="#Peridynamics.BBMaterial"><code>Peridynamics.BBMaterial</code></a></li><li><a href="#Peridynamics.Body"><code>Peridynamics.Body</code></a></li><li><a href="#Peridynamics.CKIMaterial"><code>Peridynamics.CKIMaterial</code></a></li><li><a href="#Peridynamics.DynamicRelaxation"><code>Peridynamics.DynamicRelaxation</code></a></li><li><a href="#Peridynamics.EnergySurfaceCorrection"><code>Peridynamics.EnergySurfaceCorrection</code></a></li><li><a href="#Peridynamics.Job"><code>Peridynamics.Job</code></a></li><li><a href="#Peridynamics.MultibodySetup"><code>Peridynamics.MultibodySetup</code></a></li><li><a href="#Peridynamics.NOSBMaterial"><code>Peridynamics.NOSBMaterial</code></a></li><li><a href="#Peridynamics.NoCorrection"><code>Peridynamics.NoCorrection</code></a></li><li><a href="#Peridynamics.OSBMaterial"><code>Peridynamics.OSBMaterial</code></a></li><li><a href="#Peridynamics.VelocityVerlet"><code>Peridynamics.VelocityVerlet</code></a></li><li><a href="#Peridynamics.AbaqusMeshConverter.read_inp"><code>Peridynamics.AbaqusMeshConverter.read_inp</code></a></li><li><a href="#Peridynamics.VtkReader.read_vtk"><code>Peridynamics.VtkReader.read_vtk</code></a></li><li><a href="#Peridynamics.contact!"><code>Peridynamics.contact!</code></a></li><li><a href="#Peridynamics.disable_mpi_timers!"><code>Peridynamics.disable_mpi_timers!</code></a></li><li><a href="#Peridynamics.enable_mpi_progress_bars!"><code>Peridynamics.enable_mpi_progress_bars!</code></a></li><li><a href="#Peridynamics.enable_mpi_timers!"><code>Peridynamics.enable_mpi_timers!</code></a></li><li><a href="#Peridynamics.failure_permit!"><code>Peridynamics.failure_permit!</code></a></li><li><a href="#Peridynamics.force_mpi_run!"><code>Peridynamics.force_mpi_run!</code></a></li><li><a href="#Peridynamics.force_threads_run!"><code>Peridynamics.force_threads_run!</code></a></li><li><a href="#Peridynamics.forcedensity_bc!"><code>Peridynamics.forcedensity_bc!</code></a></li><li><a href="#Peridynamics.material!"><code>Peridynamics.material!</code></a></li><li><a href="#Peridynamics.mpi_isroot"><code>Peridynamics.mpi_isroot</code></a></li><li><a href="#Peridynamics.n_points"><code>Peridynamics.n_points</code></a></li><li><a href="#Peridynamics.point_set!"><code>Peridynamics.point_set!</code></a></li><li><a href="#Peridynamics.point_sets"><code>Peridynamics.point_sets</code></a></li><li><a href="#Peridynamics.precrack!"><code>Peridynamics.precrack!</code></a></li><li><a href="#Peridynamics.process_each_export"><code>Peridynamics.process_each_export</code></a></li><li><a href="#Peridynamics.reset_mpi_progress_bars!"><code>Peridynamics.reset_mpi_progress_bars!</code></a></li><li><a href="#Peridynamics.submit"><code>Peridynamics.submit</code></a></li><li><a href="#Peridynamics.uniform_box"><code>Peridynamics.uniform_box</code></a></li><li><a href="#Peridynamics.uniform_sphere"><code>Peridynamics.uniform_sphere</code></a></li><li><a href="#Peridynamics.velocity_bc!"><code>Peridynamics.velocity_bc!</code></a></li><li><a href="#Peridynamics.velocity_ic!"><code>Peridynamics.velocity_ic!</code></a></li><li><a href="#Peridynamics.@mpiroot"><code>Peridynamics.@mpiroot</code></a></li><li><a href="#Peridynamics.@mpitime"><code>Peridynamics.@mpitime</code></a></li></ul><h2 id="Material-models"><a class="docs-heading-anchor" href="#Material-models">Material models</a><a id="Material-models-1"></a><a class="docs-heading-anchor-permalink" href="#Material-models" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.BBMaterial" href="#Peridynamics.BBMaterial"><code>Peridynamics.BBMaterial</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">BBMaterial()
BBMaterial{Correction}()</code></pre><p>A material type used to assign the material of a <a href="#Peridynamics.Body"><code>Body</code></a> with the standard bond-based formulation of peridynamics.</p><p>Possible correction methods are:</p><ul><li><a href="#Peridynamics.NoCorrection"><code>NoCorrection</code></a>: No correction is applied. (default)</li><li><a href="#Peridynamics.EnergySurfaceCorrection"><code>EnergySurfaceCorrection</code></a>: The energy based surface correction method of   Le and Bobaru (2018) is applied.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; mat = BBMaterial()
BBMaterial{NoCorrection}()

julia&gt; mat = BBMaterial{EnergySurfaceCorrection}()
BBMaterial{EnergySurfaceCorrection}()</code></pre><hr/><pre><code class="language-julia hljs">BBMaterial{Correction}</code></pre><p>Material type for the bond-based peridynamics formulation.</p><p><strong>Type Parameters</strong></p><ul><li><code>Correction</code>: A correction algorithm type. See the constructor docs for more informations.</li></ul><p><strong>Allowed material parameters</strong></p><p>When using <a href="#Peridynamics.material!"><code>material!</code></a> on a <a href="#Peridynamics.Body"><code>Body</code></a> with <code>BBMaterial</code>, then the following parameters are allowed:</p><ul><li><code>horizon::Float64</code>: Radius of point interactions</li><li><code>rho::Float64</code>: Density</li><li><code>E::Float64</code>: Young&#39;s modulus</li><li><code>Gc::Float64</code>: Critical energy release rate</li><li><code>epsilon_c::Float64</code>: Critical strain</li></ul><div class="admonition is-info"><header class="admonition-header">Poisson&#39;s ratio and bond-based peridynamics</header><div class="admonition-body"><p>In bond-based peridynamics, the Poisson&#39;s ratio is limited to 1/4 for 3D simulations. Therefore the specification of this keyword is not allowed when using <code>material!</code>, as it is hardcoded to <code>nu = 1/4</code>.</p></div></div><p><strong>Allowed export fields</strong></p><p>When specifying the <code>fields</code> keyword of <a href="#Peridynamics.Job"><code>Job</code></a> for a <a href="#Peridynamics.Body"><code>Body</code></a> with <code>BBMaterial</code>, the following fields are allowed:</p><ul><li><code>position::Matrix{Float64}</code>: Position of each point</li><li><code>displacement::Matrix{Float64}</code>: Displacement of each point</li><li><code>velocity::Matrix{Float64}</code>: Velocity of each point</li><li><code>velocity_half::Matrix{Float64}</code>: Velocity parameter for Verlet time solver</li><li><code>acceleration::Matrix{Float64}</code>: Acceleration of each point</li><li><code>b_int::Matrix{Float64}</code>: Internal force density of each point</li><li><code>b_ext::Matrix{Float64}</code>: External force density of each point</li><li><code>damage::Vector{Float64}</code>: Damage of each point</li><li><code>n_active_bonds::Vector{Int}</code>: Number of intact bonds of each point</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/physics/bond_based.jl#L2-L60">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.OSBMaterial" href="#Peridynamics.OSBMaterial"><code>Peridynamics.OSBMaterial</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">OSBMaterial()
OSBMaterial{Correction}()</code></pre><p>A material type used to assign the material of a <a href="#Peridynamics.Body"><code>Body</code></a> with the ordinary state-based formulation of peridynamics.</p><p>Possible correction methods are:</p><ul><li><a href="#Peridynamics.NoCorrection"><code>NoCorrection</code></a>: No correction is applied (default)</li><li><a href="#Peridynamics.EnergySurfaceCorrection"><code>EnergySurfaceCorrection</code></a>: The energy based surface correction method of   Le and Bobaru (2018) is applied</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; mat = OSBMaterial()
OSBMaterial{NoCorrection}()

julia&gt; mat = OSBMaterial{EnergySurfaceCorrection}()
OSBMaterial{EnergySurfaceCorrection}()</code></pre><hr/><pre><code class="language-julia hljs">OSBMaterial{Correction}</code></pre><p>Material type for the ordinary state-based peridynamics formulation.</p><p><strong>Type Parameters</strong></p><ul><li><code>Correction</code>: A correction algorithm type. See the constructor docs for more informations.</li></ul><p><strong>Allowed material parameters</strong></p><p>When using <a href="#Peridynamics.material!"><code>material!</code></a> on a <a href="#Peridynamics.Body"><code>Body</code></a> with <code>OSBMaterial</code>, then the following parameters are allowed:</p><ul><li><code>horizon::Float64</code>: Radius of point interactions</li><li><code>rho::Float64</code>: Density</li><li><code>E::Float64</code>: Young&#39;s modulus</li><li><code>nu::Float64</code>: Poisson&#39;s ratio</li><li><code>Gc::Float64</code>: Critical energy release rate</li><li><code>epsilon_c::Float64</code>: Critical strain</li></ul><p><strong>Allowed export fields</strong></p><p>When specifying the <code>fields</code> keyword of <a href="#Peridynamics.Job"><code>Job</code></a> for a <a href="#Peridynamics.Body"><code>Body</code></a> with <code>OSBMaterial</code>, the following fields are allowed:</p><ul><li><code>position::Matrix{Float64}</code>: Position of each point</li><li><code>displacement::Matrix{Float64}</code>: Displacement of each point</li><li><code>velocity::Matrix{Float64}</code>: Velocity of each point</li><li><code>velocity_half::Matrix{Float64}</code>: Velocity parameter for Verlet time solver</li><li><code>acceleration::Matrix{Float64}</code>: Acceleration of each point</li><li><code>b_int::Matrix{Float64}</code>: Internal force density of each point</li><li><code>b_ext::Matrix{Float64}</code>: External force density of each point</li><li><code>damage::Vector{Float64}</code>: Damage of each point</li><li><code>n_active_bonds::Vector{Int}</code>: Number of intact bonds of each point</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/physics/ordinary_state_based.jl#L1-L56">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.NOSBMaterial" href="#Peridynamics.NOSBMaterial"><code>Peridynamics.NOSBMaterial</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">NOSBMaterial(; maxdmg, maxjacobi, corr)</code></pre><p>A material type used to assign the material of a <a href="#Peridynamics.Body"><code>Body</code></a> with the local continuum consistent (correspondence) formulation of non-ordinary state-based peridynamics.</p><p><strong>Keywords</strong></p><ul><li><code>maxdmg::Float64</code>: Maximum value of damage a point is allowed to obtain. If this value is   exceeded, all bonds of that point are broken because the deformation gradient would then   possibly contain <code>NaN</code> values.   (default: <code>0.95</code>)</li><li><code>maxjacobi::Float64</code>: Maximum value of the Jacobi determinant. If this value is exceeded,   all bonds of that point are broken.   (default: <code>1.03</code>)</li><li><code>corr::Float64</code>: Correction factor used for zero-energy mode stabilization. The   stabilization algorithm of Silling (2017) is used.   (default: <code>100.0</code>)</li></ul><div class="admonition is-info"><header class="admonition-header">Stability of fracture simulations</header><div class="admonition-body"><p>This formulation is known to be not suitable for fracture simultations without stabilization of the zero-energy modes. Therefore be careful when doing fracture simulations and try out different paremeters for <code>maxdmg</code>, <code>maxjacobi</code>, and <code>corr</code>.</p></div></div><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; mat = NOSBMaterial()
NOSBMaterial(maxdmg=0.95, maxjacobi=1.03, corr=100.0)</code></pre><hr/><pre><code class="language-julia hljs">NOSBMaterial</code></pre><p>Material type for the local continuum consistent (correspondence) formulation of non-ordinary state-based peridynamics.</p><p><strong>Fields</strong></p><ul><li><code>maxdmg::Float64</code>: Maximum value of damage a point is allowed to obtain. See the   constructor docs for more informations.</li><li><code>maxjacobi::Float64</code>: Maximum value of the Jacobi determinant. See the constructor docs   for more informations.</li><li><code>corr::Float64</code>: Correction factor used for zero-energy mode stabilization. See the   constructor docs for more informations.</li></ul><p><strong>Allowed material parameters</strong></p><p>When using <a href="#Peridynamics.material!"><code>material!</code></a> on a <a href="#Peridynamics.Body"><code>Body</code></a> with <code>NOSBMaterial</code>, then the following parameters are allowed:</p><ul><li><code>horizon::Float64</code>: Radius of point interactions</li><li><code>rho::Float64</code>: Density</li><li><code>E::Float64</code>: Young&#39;s modulus</li><li><code>nu::Float64</code>: Poisson&#39;s ratio</li><li><code>Gc::Float64</code>: Critical energy release rate</li><li><code>epsilon_c::Float64</code>: Critical strain</li></ul><p><strong>Allowed export fields</strong></p><p>When specifying the <code>fields</code> keyword of <a href="#Peridynamics.Job"><code>Job</code></a> for a <a href="#Peridynamics.Body"><code>Body</code></a> with <code>NOSBMaterial</code>, the following fields are allowed:</p><ul><li><code>position::Matrix{Float64}</code>: Position of each point</li><li><code>displacement::Matrix{Float64}</code>: Displacement of each point</li><li><code>velocity::Matrix{Float64}</code>: Velocity of each point</li><li><code>velocity_half::Matrix{Float64}</code>: Velocity parameter for Verlet time solver</li><li><code>acceleration::Matrix{Float64}</code>: Acceleration of each point</li><li><code>b_int::Matrix{Float64}</code>: Internal force density of each point</li><li><code>b_ext::Matrix{Float64}</code>: External force density of each point</li><li><code>damage::Vector{Float64}</code>: Damage of each point</li><li><code>n_active_bonds::Vector{Int}</code>: Number of intact bonds of each point</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/physics/correspondence.jl#L1-L70">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.CKIMaterial" href="#Peridynamics.CKIMaterial"><code>Peridynamics.CKIMaterial</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CKIMaterial()</code></pre><p>A material type used to assign the material of a <a href="#Peridynamics.Body"><code>Body</code></a> with the continuum-kinematics-inspired peridynamics fomulation.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; mat = CKIMaterial()
CKIMaterial()</code></pre><hr/><pre><code class="language-julia hljs">CKIMaterial</code></pre><p>Material type for the continuum-kinematics-inspired peridynamics framework.</p><p><strong>Allowed material parameters</strong></p><p>When using <a href="#Peridynamics.material!"><code>material!</code></a> on a <a href="#Peridynamics.Body"><code>Body</code></a> with <code>CKIMaterial</code>, then the following parameters are allowed:</p><ul><li><code>horizon::Float64</code>: Radius of point interactions</li><li><code>rho::Float64</code>: Density</li><li><code>E::Float64</code>: Young&#39;s modulus</li><li><code>nu::Float64</code>: Poisson&#39;s ratio</li><li><code>Gc::Float64</code>: Critical energy release rate</li><li><code>epsilon_c::Float64</code>: Critical strain</li><li><code>C1::Float64</code>: One-neighbor interaction parameter (default: <code>0.0</code>)</li><li><code>C2::Float64</code>: Two-neighbor interaction parameter (default: <code>0.0</code>)</li><li><code>C3::Float64</code>: Two-neighbor interaction parameter (default: <code>0.0</code>)</li></ul><div class="admonition is-warning"><header class="admonition-header">Specification of interaction parameters</header><div class="admonition-body"><p>If any of the interaction parameters is used with <a href="#Peridynamics.material!"><code>material!</code></a>, the the Young&#39;s modulus and Poisson&#39;s ratio are ignored and only the specified interaction parameters will influence the force density calculated from that interaction.</p><p>If no interaction parameter is specified, then the Young&#39;s modulus and Poisson&#39;s ratio are used to calculate these parameters accordingly to Ekiz, Steinmann, and Javili (2022).</p></div></div><p><strong>Allowed export fields</strong></p><p>When specifying the <code>fields</code> keyword of <a href="#Peridynamics.Job"><code>Job</code></a> for a <a href="#Peridynamics.Body"><code>Body</code></a> with <code>CKIMaterial</code>, the following fields are allowed:</p><ul><li><code>position::Matrix{Float64}</code>: Position of each point</li><li><code>displacement::Matrix{Float64}</code>: Displacement of each point</li><li><code>velocity::Matrix{Float64}</code>: Velocity of each point</li><li><code>velocity_half::Matrix{Float64}</code>: Velocity parameter for Verlet time solver</li><li><code>acceleration::Matrix{Float64}</code>: Acceleration of each point</li><li><code>b_int::Matrix{Float64}</code>: Internal force density of each point</li><li><code>b_ext::Matrix{Float64}</code>: External force density of each point</li><li><code>damage::Vector{Float64}</code>: Damage of each point</li><li><code>n_active_one_nis::Vector{Int}</code>: Number of intact one-neighbor interactions of each point</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/physics/continuum_kinematics_inspired.jl#L1-L56">source</a></section></article><h2 id="System-related-types"><a class="docs-heading-anchor" href="#System-related-types">System related types</a><a id="System-related-types-1"></a><a class="docs-heading-anchor-permalink" href="#System-related-types" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.NoCorrection" href="#Peridynamics.NoCorrection"><code>Peridynamics.NoCorrection</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">NoCorrection</code></pre><p>A correction handler for materials that use the bond system. If <code>NoCorrection</code> is used, then no correction will be applied.</p><p>See also <a href="#Peridynamics.BBMaterial"><code>BBMaterial</code></a>, <a href="#Peridynamics.OSBMaterial"><code>OSBMaterial</code></a> for further information on how to use the correction type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/discretization/bond_system_corrections.jl#L2-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.EnergySurfaceCorrection" href="#Peridynamics.EnergySurfaceCorrection"><code>Peridynamics.EnergySurfaceCorrection</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">EnergySurfaceCorrection</code></pre><p>A correction handler for materials that use the bond system. If <code>EnergySurfaceCorrection</code> is used, then the energy based surface correction method of Le and Bobaru (2018) is used.</p><p>See also <a href="#Peridynamics.BBMaterial"><code>BBMaterial</code></a>, <a href="#Peridynamics.OSBMaterial"><code>OSBMaterial</code></a> for further information on how to use the correction type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/discretization/bond_system_corrections.jl#L29-L37">source</a></section></article><h2 id="Discretization"><a class="docs-heading-anchor" href="#Discretization">Discretization</a><a id="Discretization-1"></a><a class="docs-heading-anchor-permalink" href="#Discretization" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.Body" href="#Peridynamics.Body"><code>Peridynamics.Body</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Body(material, position, volume)
Body(material, inp_file)</code></pre><p>Constructs a <code>Body</code> for a peridynamics simulation.</p><p><strong>Arguments</strong></p><ul><li><code>material::AbstractMaterial</code>: The material which is defined for the whole body.</li><li><code>position::AbstractMatrix</code>: A <code>3×n</code> matrix with the point position of the <code>n</code> points.</li><li><code>volume::AbstractVector</code>: A vector with the volume of each point.</li><li><code>inp_file::AbstractString</code>: An Abaqus input file containing meshes, imported with   <a href="#Peridynamics.AbaqusMeshConverter.read_inp"><code>read_inp</code></a>.</li></ul><p><strong>Throws</strong></p><ul><li>Errors if the number of points is not larger than zero</li><li>Errors if <code>position</code> is not a <code>3×n</code> matrix and has the same length as <code>volume</code></li><li>Errors if <code>position</code> or <code>volume</code> contain <code>NaN</code> values</li></ul><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; Body(BBMaterial(), rand(3, 10), rand(10))
10-point Body{BBMaterial{NoCorrection}}:
  1 point set(s):
    10-point set `all_points`</code></pre><hr/><div class="admonition is-warning"><header class="admonition-header">Internal use only</header><div class="admonition-body"><p>Please note that the fields are intended for internal use only. They are <em>not</em> part of the public API of Peridynamics.jl, and thus can be altered (or removed) at any time without it being considered a breaking change.</p></div></div><pre><code class="language-julia hljs">Body{Material,PointParameters}</code></pre><p><strong>Type Parameters</strong></p><ul><li><code>Material &lt;: AbstractMaterial</code>: Type of the specified material model</li><li><code>PointParameters &lt;: AbstractPointParameters</code>: Type of the point parameters</li></ul><p><strong>Fields</strong></p><ul><li><code>mat::Material</code>: The material formulation.</li><li><code>n_points::Int</code>: The number of points that in the body.</li><li><code>position::Matrix{Float64}</code>: A <code>3×n_points</code> matrix with the position of the points.</li><li><code>volume::Vector{Float64}</code>: A vector with the volume of each point.</li><li><code>fail_permit::Vector{Bool}</code>: A vector that describes if failure is allowed for each point.</li><li><code>point_sets::Dict{Symbol,Vector{Int}}</code>: A dictionary containing point sets.</li><li><code>point_params::Vector{PointParameters}</code>: A vector containing all point parameters.</li><li><code>params_map::Vector{Int}</code>: A vector that maps parameters in <code>point_params</code> to each point.</li><li><code>single_dim_bcs::Vector{SingleDimBC}</code>: A vector with boundary conditions on a single   dimension.</li><li><code>posdep_single_dim_bcs::Vector{PosDepSingleDimBC}</code>: A vector with position dependent   boundary conditions on a single dimension.</li><li><code>single_dim_ics::Vector{SingleDimIC}</code>: A vector with initial conditions on a single   dimension.</li><li><code>posdep_single_dim_ics::Vector{PosDepSingleDimIC}</code>: A vector with position dependent   initial conditions on a single dimension.</li><li><code>point_sets_precracks::Vector{PointSetsPreCrack}</code>: A vector with predefined point set   cracks.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/discretization/body.jl#L1-L64">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.MultibodySetup" href="#Peridynamics.MultibodySetup"><code>Peridynamics.MultibodySetup</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">MultibodySetup(body_pairs...)</code></pre><p>Setup for a peridynamic simulation with multiple bodies.</p><p><strong>Arguments</strong></p><ul><li><code>body_pairs::Pair{Symbol,&lt;:AbstractBody}</code>: Pairs of <code>:body_name =&gt; body_object</code>.   The name of the body has to be specified as a Symbol.</li></ul><p><strong>Throws</strong></p><ul><li>Errors if less than 2 bodies are defined</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; sphere = Body(BBMaterial(), pos_sphere, vol_sphere)
280-point Body{BBMaterial{NoCorrection}}:
  1 point set(s):
    280-point set `all_points`

julia&gt; plate = Body(BBMaterial(), pos_plate, vol_plate)
25600-point Body{BBMaterial{NoCorrection}}:
  1 point set(s):
    25600-point set `all_points`

julia&gt; ms = MultibodySetup(:sphere =&gt; sphere, :plate =&gt; plate)
25880-point MultibodySetup:
  280-point Body{BBMaterial{NoCorrection}} with name `sphere`
  25600-point Body{BBMaterial{NoCorrection}} with name `plate`</code></pre><hr/><div class="admonition is-warning"><header class="admonition-header">Internal use only</header><div class="admonition-body"><p>Please note that the fields are intended for internal use only. They are <em>not</em> part of the public API of Peridynamics.jl, and thus can be altered (or removed) at any time without it being considered a breaking change.</p></div></div><pre><code class="language-julia hljs">MultibodySetup{Bodies}</code></pre><p><strong>Type Parameters</strong></p><ul><li><code>Bodies &lt;: Tuple</code>: All types of the different bodies in the multibody setup.</li></ul><p><strong>Fields</strong></p><ul><li><code>bodies::Bodies</code>: A Tuple containing all the bodies.</li><li><code>body_names::Vector{Symbol}</code>: All body names.</li><li><code>body_idxs::Dict{Symbol,Int}</code>: A Dict to get the body index with the body name.</li><li><code>srf_contacts::Vector{ShortRangeForceContact}</code>: All short range force contacts.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/discretization/multibody_setup.jl#L1-L55">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.point_set!" href="#Peridynamics.point_set!"><code>Peridynamics.point_set!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">point_set!(body, set_name, points)
point_set!(fun, body, set_name)</code></pre><p>Add a point set to a <a href="#Peridynamics.Body"><code>Body</code></a>. The points of the set can be either specified directly with the <code>points::AbstractVector</code> argument, or as the result of the filter function <code>fun</code>. By default, a body already contains a point set with the name <code>:all_points</code>, containg a set with all points.</p><p><strong>Arguments</strong></p><ul><li><code>body::AbstractBody</code>: <a href="#Peridynamics.Body"><code>Body</code></a> where the set will be added.</li><li><code>set_name::Symbol</code>: Name of the point set.</li><li><code>points::AbstractVector</code>: Some vector containing the point indices of the set.   The indices have to be in bounds with the <code>position</code> and <code>volume</code> of <code>body</code>.</li><li><code>fun::Function</code>: Function for filtering points. This function accepts only one positional   argument and will be used in a <code>findall</code> call. Depending on the argument name,   a different input will be processed:<ul><li><code>x</code>: The function will receive the x-coordinate of each point in <code>position</code> of <code>body</code>:<pre><code class="language-julia hljs">points = findall(fun, @view(position[1, :]))</code></pre></li><li><code>y</code>: The function will receive the y-coordinate of each point in <code>position</code> of <code>body</code>:<pre><code class="language-julia hljs">points = findall(fun, @view(position[2, :]))</code></pre></li><li><code>z</code>: The function will receive the z-coordinate of each point in <code>position</code> of <code>body</code>:<pre><code class="language-julia hljs">points = findall(fun, @view(position[3, :]))</code></pre></li><li><code>p</code>: The function will receive the a vector containing each dimension of each point in <code>position</code> of <code>body</code>:<pre><code class="language-julia hljs">points = findall(fun, eachcol(position))</code></pre></li></ul></li></ul><p><strong>Throws</strong></p><ul><li>Errors if a point set with the same <code>set_name</code> already exists.</li><li>Errors if <code>points</code> are not in bounds with <code>position</code> and <code>volume</code> of the <code>body</code>.</li></ul><p><strong>Examples</strong></p><p>Add a point set to <code>body</code> with all points that have a x-corrdinate larger than zero:</p><pre><code class="language-julia-repl hljs">julia&gt; point_set!(x -&gt; x &gt; 0, body, :larger_than_zero)

julia&gt; point_sets(body)
Dict{Symbol, Vector{Int64}} with 2 entries:
  :larger_than_zero =&gt; [6, 7, 8, 9, 10, 16, 17, 18, 19, 20  …  9…
  :all_points       =&gt; [1, 2, 3, 4, 5, 6, 7, 8, 9, 10  …  991, 9…</code></pre><p>Add a point set to <code>body</code> with all points that are positioned inside a sphere with radius <code>r</code> around the center. Note that the <code>do</code>-syntax can be used, as <code>fun</code> is the first argument of <code>point_set!</code>:</p><pre><code class="language-julia-repl hljs">julia&gt; point_set!(body, :inside_sphere) do p
           sqrt(p[1]^2 + p[2]^2 + p[3]^2) ≤ r
       end

julia&gt; point_sets(body)
Dict{Symbol, Vector{Int64}} with 2 entries:
  :larger_than_zero =&gt; [6, 7, 8, 9, 10, 16, 17, 18, 19, 20  …  9…
  :inside_sphere    =&gt; [1, 2, 3, 4, 5, 6, 7, 8, 9, 10  …  991, 9…</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/discretization/point_sets.jl#L4-L70">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.point_sets" href="#Peridynamics.point_sets"><code>Peridynamics.point_sets</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">point_sets(body)</code></pre><p>Returns all point sets of <code>body</code>.</p><p><strong>Arguments</strong></p><ul><li><code>body::AbstractBody</code>: <a href="#Peridynamics.Body"><code>Body</code></a>.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; body = Body(BBMaterial(), rand(3,100), rand(100))
100-point Body{BBMaterial{NoCorrection}}:
  100-point set `all_points`

julia&gt; point_set!(body, :set_a, 1:10) # first ten points

julia&gt; Peridynamics.point_sets(body)
Dict{Symbol, Vector{Int64}} with 2 entries:
  :all_points =&gt; [1, 2, 3, 4, 5, 6, 7, 8, 9, 10  …  91, 92, 93, 94, 95, 96, 97, 98, 9…
  :set_a      =&gt; [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/discretization/point_sets.jl#L126-L149">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.failure_permit!" href="#Peridynamics.failure_permit!"><code>Peridynamics.failure_permit!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">failure_permit!(body, fail_permit)
failure_permit!(body, set_name, fail_permit)</code></pre><p>Set the failure permission for points of a <code>body</code>. By default, failure is allowed for all points. If no <code>set_name</code> is specified, then the permission <code>fail_permit</code> is set for all points of the body.</p><p><strong>Arguments</strong></p><ul><li><code>body::AbstractBody</code>: <a href="#Peridynamics.Body"><code>Body</code></a> where the failure permission will be set.</li><li><code>set_name::Symbol</code>: The name of a point set of this body.</li><li><code>fail_permit::Bool</code>: If <code>true</code>, failure is allowed, and if <code>false</code> then no bonds of this   point are allowed to break during the simulation.</li></ul><p><strong>Throws</strong></p><ul><li>Errors if the body does not contain a set with <code>set_name</code>.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; failure_permit!(body, false)

julia&gt; body
1000-point Body{BBMaterial{NoCorrection}}:
  1 point set(s):
    1000-point set `all_points`
  1000 points with no failure permission</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/physics/fracture.jl#L1-L31">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.material!" href="#Peridynamics.material!"><code>Peridynamics.material!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">material!(body, set_name; kwargs...)
material!(body; kwargs...)</code></pre><p>Assign material point parameters to points of <code>body</code>. If no <code>set_name</code> is specified, then the parameters will be set for all points of the body.</p><p><strong>Arguments</strong></p><ul><li><code>body::AbstractBody</code>: <a href="#Peridynamics.Body"><code>Body</code></a></li><li><code>set_name::Symbol</code>: The name of a point set of this body.</li></ul><p><strong>Keywords</strong></p><p>Allowed keywords depend on the selected material model. Please look at the documentation of the material you specified when creating the body. The default material keywords are:</p><ul><li><code>horizon::Float64</code>: Radius of point interactions</li><li><code>rho::Float64</code>: Density</li><li><code>E::Float64</code>: Young&#39;s modulus</li><li><code>nu::Float64</code>: Poisson&#39;s ratio</li><li><code>Gc::Float64</code>: Critical energy release rate</li><li><code>epsilon_c::Float64</code>: Critical strain</li></ul><p><strong>Throws</strong></p><ul><li>Errors if a kwarg is not eligible for specification with the body material.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; material!(body; horizon=3.0, E=2.1e5, rho=8e-6, Gc=2.7)

julia&gt; body
1000-point Body{BBMaterial{NoCorrection}}:
  1 point set(s):
    1000-point set `all_points`
  1 point parameter(s):
    Parameters BBMaterial: δ=3.0, E=210000.0, nu=0.25, rho=8.0e-6, Gc=2.7</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/physics/material_parameters.jl#L9-L50">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.velocity_bc!" href="#Peridynamics.velocity_bc!"><code>Peridynamics.velocity_bc!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">velocity_bc!(fun, body, set_name, dim)</code></pre><p>Specifies velocity boundary conditions for points of the set <code>set_name</code> in <code>body</code>. The value of the boundary condition is calculated with the function <code>fun</code> at every time step.</p><p><strong>Arguments</strong></p><ul><li><code>fun::Function</code>: Condition function for the calculation of a value, should return a   <code>Float64</code>. If the condition function returns a <code>NaN</code>, then this value is ignored, which   can be used to turn conditions off after a specified period of time. This function   accepts one ore two positional arguments and is aware of the argument names.   Possible arguments and names:<ul><li><code>fun(t)</code>: The function will receive the current time <code>t</code> at every time step.   This makes it possible to specify conditions that change over time.</li><li><code>fun(p, t)</code>: This function will be processed for every point of <code>set_name</code> and   receives the reference position of a point as <code>SVector{3}</code> and the current time <code>t</code>   at every time step. This makes it possible to specify conditions that   also depend on the position of a point.</li></ul></li><li><code>body::AbstractBody</code>: <a href="#Peridynamics.Body"><code>Body</code></a> the condition is specified on.</li><li><code>set_name::Symbol</code>: The name of a point set of this body.</li><li><code>dim::Union{Integer,Symbol}</code>: Direction of the condition, either specified as Symbol or   integer.<ul><li>x-direction: <code>:x</code> or <code>1</code></li><li>y-direction: <code>:y</code> or <code>2</code></li><li>z-direction: <code>:z</code> or <code>3</code></li></ul></li></ul><p><strong>Throws</strong></p><ul><li>Errors if the body does not contain a set with <code>set_name</code>.</li><li>Errors if the direction is not correctly specified.</li><li>Errors if function is not suitable as condition function and has the wrong arguments.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; velocity_bc!(t -&gt; 2.0, body, :all_points, 1)

julia&gt; velocity_bc!((p,t) -&gt; p[1] * t, body, :all_points, :y)

julia&gt; velocity_bc!(t -&gt; t &gt; 0.00001 ? 1.0 : NaN, body, :all_points, :z)

julia&gt; body
1000-point Body{BBMaterial{NoCorrection}}:
  1 point set(s):
    1000-point set `all_points`
  3 boundary condition(s):
    BC on velocity: point_set=all_points, dim=1
    BC on velocity: point_set=all_points, dim=3
    Pos.-dep. BC on velocity: point_set=all_points, dim=2</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/physics/boundary_conditions.jl#L167-L219">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.velocity_ic!" href="#Peridynamics.velocity_ic!"><code>Peridynamics.velocity_ic!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">velocity_ic!(body, set_name, dim, value)
velocity_ic!(fun, body, set_name, dim)</code></pre><p>Specifies velocity initial conditions for points of the set <code>set_name</code> in <code>body</code>. The <code>value</code> of the initial condition is specified before time integration. If a function <code>fun</code> is specified, then the value is with that function.</p><p><strong>Arguments</strong></p><ul><li><code>body::AbstractBody</code>: <a href="#Peridynamics.Body"><code>Body</code></a> the condition is specified on.</li><li><code>set_name::Symbol</code>: The name of a point set of this body.</li><li><code>dim::Union{Integer,Symbol}</code>: Direction of the condition, either specified as Symbol or   integer.<ul><li>x-direction: <code>:x</code> or <code>1</code></li><li>y-direction: <code>:y</code> or <code>2</code></li><li>z-direction: <code>:z</code> or <code>3</code></li></ul></li><li><code>value::Real</code>: Value that is specified before time integration.</li><li><code>fun::Function</code>: Condition function for the calculation of a value, should return a   <code>Float64</code>. If the condition function returns a <code>NaN</code>, then this value is ignored, which   can be used to turn off the condition for a specified position. This function   accepts one ore two positional arguments and is aware of the argument names.   Possible arguments and names:<ul><li><code>fun(p)</code>: The function will receive the reference position <code>p</code> of a point as   <code>SVector{3}</code>.</li></ul></li></ul><p><strong>Throws</strong></p><ul><li>Errors if the body does not contain a set with <code>set_name</code>.</li><li>Errors if the direction is not correctly specified.</li><li>Errors if function is not suitable as condition function and has the wrong arguments.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; velocity_ic!(body, :all_points, :x, -100.0)

julia&gt; body
1000-point Body{BBMaterial{NoCorrection}}:
  1 point set(s):
    1000-point set `all_points`
  1 initial condition(s):
    IC on velocity: point_set=all_points, dim=1</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/physics/initial_conditions.jl#L98-L142">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.forcedensity_bc!" href="#Peridynamics.forcedensity_bc!"><code>Peridynamics.forcedensity_bc!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">forcedensity_bc!(fun, body, set, dim)</code></pre><p>Specifies force density boundary conditions for points of the set <code>set_name</code> in <code>body</code>. The value of the boundary condition is calculated with the function <code>fun</code> at every time step.</p><p><strong>Arguments</strong></p><ul><li><code>fun::Function</code>: Condition function for the calculation of a value, should return a   <code>Float64</code>. If the condition function returns a <code>NaN</code>, then this value is ignored, which   can be used to turn conditions off after a specified period of time. This function   accepts one ore two positional arguments and is aware of the argument names.   Possible arguments and names:<ul><li><code>fun(t)</code>: The function will receive the current time <code>t</code> at every time step.   This makes it possible to specify conditions that change over time.</li><li><code>fun(p, t)</code>: This function will be processed for every point of <code>set_name</code> and   receives the reference position of a point as <code>SVector{3}</code> and the current time <code>t</code>   at every time step. This makes it possible to specify conditions that   also depend on the position of a point.</li></ul></li><li><code>body::AbstractBody</code>: <a href="#Peridynamics.Body"><code>Body</code></a> the condition is specified on.</li><li><code>set_name::Symbol</code>: The name of a point set of this body.</li><li><code>dim::Union{Integer,Symbol}</code>: Direction of the condition, either specified as Symbol or   integer.<ul><li>x-direction: <code>:x</code> or <code>1</code></li><li>y-direction: <code>:y</code> or <code>2</code></li><li>z-direction: <code>:z</code> or <code>3</code></li></ul></li></ul><p><strong>Throws</strong></p><ul><li>Errors if the body does not contain a set with <code>set_name</code>.</li><li>Errors if the direction is not correctly specified.</li><li>Errors if function is not suitable as condition function and has the wrong arguments.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; forcedensity_bc!(t -&gt; 8000.0, body, :all_points, :x)

julia&gt; forcedensity_bc!((p,t) -&gt; p[1] * t, body, :all_points, :y)

julia&gt; forcedensity_bc!(t -&gt; t &gt; 0.00001 ? 8000.0 : NaN, body, :all_points, :z)

julia&gt; body
1000-point Body{BBMaterial{NoCorrection}}:
  1 point set(s):
    1000-point set `all_points`
  3 boundary condition(s):
    BC on force density: point_set=all_points, dim=1
    BC on force density: point_set=all_points, dim=3
    Pos.-dep. BC on force density: point_set=all_points, dim=2</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/physics/boundary_conditions.jl#L235-L287">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.precrack!" href="#Peridynamics.precrack!"><code>Peridynamics.precrack!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">precrack!(body, set_a, set_b; update_dmg=true)</code></pre><p>Creates a crack between two point sets by prohibiting interaction between points of different point sets. The points in <code>set_a</code> are not allowed to interact with points in <code>set_b</code>.</p><p><strong>Arguments</strong></p><ul><li><code>body::AbstractBody</code>: <a href="#Peridynamics.Body"><code>Body</code></a>.</li><li><code>set_a::Symbol</code>: The name of a point set of this body.</li><li><code>set_b::Symbol</code>: The name of a point set of this body.</li></ul><p><strong>Keywords</strong></p><ul><li><code>update_dmg::Bool</code>: If <code>true</code>, the material points involved in the predefined crack are   initially damaged. If <code>false</code>, the bonds involved are deleted and the material points   involved with the predefined crack are not damaged in the reference results.   (default: <code>true</code>)</li></ul><p><strong>Throws</strong></p><ul><li>Errors if the body does not contain sets with name <code>set_a</code> and <code>set_b</code>.</li><li>Errors if the point sets intersect and a point is included in both sets.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; point_set!(body, :a, 1:2)

julia&gt; point_set!(body, :b, 3:4)

julia&gt; precrack!(body, :a, :b)

julia&gt; body
1000-point Body{BBMaterial{NoCorrection}}:
  3 point set(s):
    1000-point set `all_points`
    2-point set `a`
    2-point set `b`
  1 predefined crack(s)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/discretization/predefined_cracks.jl#L31-L73">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.contact!" href="#Peridynamics.contact!"><code>Peridynamics.contact!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">contact!(multibody_setup, name_body_a, name_body_b; kwargs...)</code></pre><p>Defines a short range force contact between body <code>name_body_a</code> and <code>name_body_b</code> in the <a href="#Peridynamics.MultibodySetup"><code>MultibodySetup</code></a> <code>multibody_setup</code>.</p><p><strong>Arguments</strong></p><ul><li><code>multibody_setup::MultibodySetup</code>: <a href="#Peridynamics.MultibodySetup"><code>MultibodySetup</code></a>.</li><li><code>name_body_a::Symbol</code>: The name of a body in this multibody setup.</li><li><code>name_body_b::Symbol</code>: The name of a body in this multibody setup.</li></ul><p><strong>Keywords</strong></p><ul><li><code>radius::Float64</code>: Contact search radius. If a the distance of a point in body   <code>name_body_a</code> and a point in body <code>name_body_b</code> is lower than this radius, a contact   force is calculated. This radius should be in the order of the point spacing of a   point cloud.</li><li><code>penalty_factor::Float64</code>: Penalty factor for the short range force contact algorithm.   (default: <code>1e12</code>)</li></ul><p><strong>Throws</strong></p><ul><li>Errors if <code>multibody_setup</code> does not contain bodies with name <code>name_body_a</code> and   <code>name_body_b</code>.</li><li>Errors if the keyword <code>radius</code> is not specified or <code>radius ≤ 0</code>.</li><li>Errors if <code>penalty_factor ≤ 0</code>.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ms = MultibodySetup(:a =&gt; body_a, :b =&gt; body_b)
2000-point MultibodySetup:
  1000-point Body{BBMaterial{NoCorrection}} with name `b`
  1000-point Body{BBMaterial{NoCorrection}} with name `b`

julia&gt; contact!(ms, :a, :b; radius=0.001)

julia&gt; ms
2000-point MultibodySetup:
  1000-point Body{BBMaterial{NoCorrection}} with name `b`
  1000-point Body{BBMaterial{NoCorrection}} with name `b`
  2 short range force contact(s)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/physics/short_range_force_contact.jl#L33-L75">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.uniform_box" href="#Peridynamics.uniform_box"><code>Peridynamics.uniform_box</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">uniform_box(lx, ly, lz, ΔX0; kwargs...)</code></pre><p>Creates a grid of uniformly distributed points in a cuboid with lengths <code>lx</code>, <code>ly</code> and <code>lz</code> and point spacing <code>ΔX0</code>.</p><p><strong>Arguments</strong></p><ul><li><code>lx::Real</code>: Length in x-dimension.</li><li><code>ly::Real</code>: Length in y-dimension.</li><li><code>lz::Real</code>: Length in z-dimension.</li><li><code>ΔX0::Real</code>: The point spacing of the points.</li></ul><p><strong>Keywords</strong></p><ul><li><code>center_x::Real</code>: Center of the cuboid in x-direction. (default: <code>0</code>)</li><li><code>center_y::Real</code>: Center of the cuboid in y-direction. (default: <code>0</code>)</li><li><code>center_z::Real</code>: Center of the cuboid in z-direction. (default: <code>0</code>)</li></ul><p><strong>Returns</strong></p><ul><li><code>position::Matrix{Float64}</code>: A <code>3×n_points</code> matrix with the position of the points.</li><li><code>volume::Vector{Float64}</code>: A vector with the volume of each point.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; position, volume = uniform_box(10, 10, 10, 2);

julia&gt; position
3×125 Matrix{Float64}:
 -4.0  -2.0   0.0   2.0   4.0  -4.0  -2.0  …  0.0  2.0  4.0  -4.0  -2.0  0.0  2.0  4.0
 -4.0  -4.0  -4.0  -4.0  -4.0  -2.0  -2.0     2.0  2.0  2.0   4.0   4.0  4.0  4.0  4.0
 -4.0  -4.0  -4.0  -4.0  -4.0  -4.0  -4.0     4.0  4.0  4.0   4.0   4.0  4.0  4.0  4.0

julia&gt; volume
125-element Vector{Int64}:
 8
 8
 8
 8
 ⋮
 8
 8
 8
 8</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/discretization/point_generators.jl#L1-L45">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.uniform_sphere" href="#Peridynamics.uniform_sphere"><code>Peridynamics.uniform_sphere</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">uniform_sphere(diameter, ΔX0; kwargs...)</code></pre><p>Creates a grid of uniformly distributed points in a sphere with a specific <code>diameter</code> and the point spacing <code>ΔX0</code>.</p><p><strong>Arguments</strong></p><ul><li><code>diameter::Real</code>: Diameter of the sphere.</li><li><code>ΔX0::Real</code>: The point spacing of the points.</li></ul><p><strong>Keywords</strong></p><ul><li><code>center_x::Real</code>: Center of the cuboid in x-direction. (default: <code>0</code>)</li><li><code>center_y::Real</code>: Center of the cuboid in y-direction. (default: <code>0</code>)</li><li><code>center_z::Real</code>: Center of the cuboid in z-direction. (default: <code>0</code>)</li></ul><p><strong>Returns</strong></p><ul><li><code>position::Matrix{Float64}</code>: A <code>3×n_points</code> matrix with the position of the points.</li><li><code>volume::Vector{Float64}</code>: A vector with the volume of each point.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; position, volume = uniform_sphere(10, 2);

julia&gt; position
3×81 Matrix{Float64}:
 -2.0   0.0   2.0  -2.0   0.0   2.0  -2.0  …   0.0   2.0  -2.0  0.0  2.0  -2.0  0.0  2.0
 -2.0  -2.0  -2.0   0.0   0.0   0.0   2.0     -2.0  -2.0   0.0  0.0  0.0   2.0  2.0  2.0
 -4.0  -4.0  -4.0  -4.0  -4.0  -4.0  -4.0      4.0   4.0   4.0  4.0  4.0   4.0  4.0  4.0

julia&gt; volume
81-element Vector{Int64}:
 8
 8
 8
 8
 8
 ⋮
 8
 8
 8
 8
 8</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/discretization/point_generators.jl#L63-L107">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.n_points" href="#Peridynamics.n_points"><code>Peridynamics.n_points</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">n_points(body)</code></pre><p>Returns the total number of points in a body.</p><p><strong>Arguments</strong></p><ul><li><code>body::Body</code>: <a href="#Peridynamics.Body"><code>Body</code></a>.</li></ul><p><strong>Returns</strong></p><ul><li><code>n_points::Int</code>: The number of points in the body.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; body = Body(BBMaterial(), pos, vol)
1000-point Body{BBMaterial{NoCorrection}}:
  1 point set(s):
    1000-point set `all_points`

julia&gt; n_points(body)
1000</code></pre><hr/><pre><code class="nohighlight hljs">n_points(multibody_setup)</code></pre><p>Returns the total number of points in a multibody setup.</p><p><strong>Arguments</strong></p><ul><li><code>multibody_setup::MultibodySetup</code>: <a href="#Peridynamics.MultibodySetup"><code>MultibodySetup</code></a>.</li></ul><p><strong>Returns</strong></p><ul><li><code>n_points::Int</code>: The sum of all points from all bodies in the multibody setup.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ms = MultibodySetup(:a =&gt; body_a, :b =&gt; body_b)
2000-point MultibodySetup:
  1000-point Body{BBMaterial{NoCorrection}} with name `a`
  1000-point Body{BBMaterial{NoCorrection}} with name `b`

julia&gt; n_points(ms)
2000</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/discretization/body.jl#L341-L386">source</a></section></article><h2 id="Preprocessing-and-simulation-setup"><a class="docs-heading-anchor" href="#Preprocessing-and-simulation-setup">Preprocessing &amp; simulation setup</a><a id="Preprocessing-and-simulation-setup-1"></a><a class="docs-heading-anchor-permalink" href="#Preprocessing-and-simulation-setup" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.AbaqusMeshConverter.read_inp" href="#Peridynamics.AbaqusMeshConverter.read_inp"><code>Peridynamics.AbaqusMeshConverter.read_inp</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">read_inp(file::String)</code></pre><p>Read Abaqus .inp-file and convert meshes to a point cloud with the help of the <a href="https://github.com/JuliaFEM/AbaqusReader.jl"><code>AbaqusReader.jl</code></a> package. Every element is converted to a point. The center of the element becomes the position of the point and the element volume becomes the point volume. Element sets defined in Abaqus are converted to corresponding point sets.</p><p>Currently supported mesh elements: [:Tet4, :Hex8]</p><p><strong>Arguments</strong></p><ul><li><code>file::String</code>: Path to Abaqus .inp-file</li></ul><p><strong>Returns</strong></p><ul><li><code>position::Matrix{Float64}</code>: Point position (midpoint of every element)</li><li><code>volume::Vector{Float64}</code>: Point volume (volume of every element)</li><li><code>point_sets</code>: Element sets defined in the .inp-file</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/AbaqusMeshConverter/AbaqusMeshConverter.jl#L63-L81">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.mpi_isroot" href="#Peridynamics.mpi_isroot"><code>Peridynamics.mpi_isroot</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">mpi_isroot()</code></pre><p>Helper function that returns a bool indicating if a process is the MPI root process. It can be safely used even for multithreading simulations, as it is always <code>true</code> if the package is started in a normal Julia environment which is not started by MPI.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/auxiliary/mpi.jl#L14-L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.force_mpi_run!" href="#Peridynamics.force_mpi_run!"><code>Peridynamics.force_mpi_run!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">force_mpi_run!()</code></pre><p>Helper function to force the usage of the MPI backend. After this function is called, all following simulations will use MPI.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/auxiliary/mpi.jl#L25-L30">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.force_threads_run!" href="#Peridynamics.force_threads_run!"><code>Peridynamics.force_threads_run!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">force_threads_run!()</code></pre><p>Helper function to force the usage of the multithreading backend. After this function is called, all following simulations will use multithreading.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/auxiliary/mpi.jl#L37-L42">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.enable_mpi_timers!" href="#Peridynamics.enable_mpi_timers!"><code>Peridynamics.enable_mpi_timers!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">enable_mpi_timers!()</code></pre><p>Helper function to enable timers defined with the <code>TimerOutputs</code> for simulations with the MPI backend. The results of the timers then will be exported into the specified path of a <a href="#Peridynamics.Job"><code>Job</code></a>. By default, not timers will be used with MPI simulations. It can be safely used with multithreading.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/auxiliary/mpi.jl#L92-L99">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.disable_mpi_timers!" href="#Peridynamics.disable_mpi_timers!"><code>Peridynamics.disable_mpi_timers!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">disable_mpi_timers!()</code></pre><p>Helper function to disable timers defined with the <code>TimerOutputs</code> for simulations with the MPI backend. It is mainly used to reset the behaviour after a call of <a href="#Peridynamics.enable_mpi_timers!"><code>enable_mpi_timers!</code></a>. It can be safely used with multithreading.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/auxiliary/mpi.jl#L105-L111">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.enable_mpi_progress_bars!" href="#Peridynamics.enable_mpi_progress_bars!"><code>Peridynamics.enable_mpi_progress_bars!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">enable_mpi_progress_bars!()</code></pre><p>Helper function to enable progress bars with MPI simulations on a personal computer. After this function is called, progress bars are beeing shown with MPI simulations like with multithreading simulations. This behavior can be reset to default with <a href="#Peridynamics.reset_mpi_progress_bars!"><code>reset_mpi_progress_bars!</code></a>.</p><div class="admonition is-warning"><header class="admonition-header">Progress bars and output files</header><div class="admonition-body"><p>Progress bars are by default disabled with MPI simulations, because they can really mess up with the output files produced by a HPC system. Therefore, a warning is shown as a reminder to reset this behaviour before submitting a job to a cluster!</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/auxiliary/mpi.jl#L117-L130">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.reset_mpi_progress_bars!" href="#Peridynamics.reset_mpi_progress_bars!"><code>Peridynamics.reset_mpi_progress_bars!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">reset_mpi_progress_bars!()</code></pre><p>After this function is called, progress bars are again disabled on MPI simulations (standard setting). This will reset the behavior after a call of <a href="#Peridynamics.enable_mpi_progress_bars!"><code>enable_mpi_progress_bars!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/auxiliary/mpi.jl#L137-L143">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.@mpitime" href="#Peridynamics.@mpitime"><code>Peridynamics.@mpitime</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@mpitime expression</code></pre><p>Time the <code>expression</code> if the mpi rank is zero. Lowers to:</p><pre><code class="language-julia hljs">if mpi_isroot()
    @time expression
else
    expression
end</code></pre><p>See also: <a href="#Peridynamics.mpi_isroot"><code>mpi_isroot</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/auxiliary/mpi.jl#L150-L163">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.@mpiroot" href="#Peridynamics.@mpiroot"><code>Peridynamics.@mpiroot</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@mpiroot [option] expression</code></pre><p>Run the code if the mpi rank is zero. Lowers to something similar as:</p><pre><code class="language-julia hljs">if mpi_isroot()
    expression
end</code></pre><p><strong>Options</strong></p><ul><li><code>:wait</code>: All MPI ranks will wait until the root rank finishes evaluating <code>expression</code></li></ul><p>See also: <a href="#Peridynamics.mpi_isroot"><code>mpi_isroot</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/auxiliary/mpi.jl#L174-L188">source</a></section></article><h2 id="Solving"><a class="docs-heading-anchor" href="#Solving">Solving</a><a id="Solving-1"></a><a class="docs-heading-anchor-permalink" href="#Solving" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.VelocityVerlet" href="#Peridynamics.VelocityVerlet"><code>Peridynamics.VelocityVerlet</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">VelocityVerlet(; kwargs...)</code></pre><p>Time integration solver for the Velocity Verlet algorithm. Specify either the number of steps or the time the simulation should cover.</p><p><strong>Keywords</strong></p><ul><li><code>time::Real</code>: The total time the simulation will cover. If this keyword is specified, the   keyword <code>steps</code> is no longer allowed. (optional)</li><li><code>steps::Int</code>: Number of calculated time steps. If this keyword is specified, the keyword   <code>time</code> is no longer allowed. (optional)</li><li><code>stepsize::Real</code>: Manually specify the size of the time step. (optional)</li><li><code>safety_factor::Real</code>: Safety factor for step size to ensure stability. (default: <code>0.7</code>)</li></ul><div class="admonition is-warning"><header class="admonition-header">Specification of the time step</header><div class="admonition-body"><p>Keep in mind that manually specifying the critical time step is dangerous! If the specified time step is too high and the CFL condition no longer holds, the simulation will give wrong results and maybe crash!</p></div></div><p><strong>Throws</strong></p><ul><li>Errors if both <code>time</code> and <code>steps</code> are specified as keywords.</li><li>Errors if neither <code>time</code> nor <code>steps</code> are specified as keywords.</li><li>Errors if <code>safety_factor &lt; 0</code> or <code>safety_factor &gt; 1</code>.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; VelocityVerlet(steps=2000)
VelocityVerlet:
  n_steps        2000
  safety_factor  0.7

julia&gt; VelocityVerlet(time=0.001)
VelocityVerlet:
  end_time       0.001
  safety_factor  0.7

julia&gt; VelocityVerlet(steps=2000, stepsize=0.0001)
┌ Warning: stepsize specified! Please be sure that the CFD-condition holds!
└ @ Peridynamics ~/Code/Peridynamics.jl/src/time_solvers/velocity_verlet.jl:66
VelocityVerlet:
  n_steps        2000
  Δt             0.0001
  safety_factor  0.7</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/time_solvers/velocity_verlet.jl#L1-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.DynamicRelaxation" href="#Peridynamics.DynamicRelaxation"><code>Peridynamics.DynamicRelaxation</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">DynamicRelaxation(; kwargs...)</code></pre><p>Time integration solver for the adaptive dynamic relaxation algorithm used for quasi-static simulations.</p><p><strong>Keywords</strong></p><ul><li><code>steps::Int</code>: Number of calculated time steps. If this keyword is specified, the keyword   <code>time</code> is no longer allowed.</li><li><code>stepsize::Real</code>: Manually specify the size of the time step. (default: <code>1.0</code>)</li><li><code>damping_factor::Real</code>: Damping factor to increase the value in the mass matrix.   (default: <code>1.0</code>)</li></ul><p><strong>Throws</strong></p><ul><li>Errors if <code>steps &lt; 0</code>.</li><li>Errors if <code>stepsize &lt; 0</code>.</li><li>Errors if <code>damping_factor &lt; 0</code>.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; DynamicRelaxation(steps=1000)
DynamicRelaxation:
  n_steps  1000
  Δt       1
  Λ        1

julia&gt; DynamicRelaxation(steps=1000, damping_factor=2)
DynamicRelaxation:
  n_steps  1000
  Δt       1
  Λ        2</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/time_solvers/dynamic_relaxation.jl#L1-L34">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.Job" href="#Peridynamics.Job"><code>Peridynamics.Job</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Job(spatial_setup, time_solver; kwargs...)</code></pre><p>Job that contains all the information necessary for a peridynamic simulation.</p><p><strong>Arguments</strong></p><ul><li><code>spatial_setup</code>: A <a href="#Peridynamics.Body"><code>Body</code></a> or <a href="#Peridynamics.MultibodySetup"><code>MultibodySetup</code></a>.</li><li><code>time_solver</code>: <a href="#Peridynamics.VelocityVerlet"><code>VelocityVerlet</code></a> or <a href="#Peridynamics.DynamicRelaxation"><code>DynamicRelaxation</code></a>.</li></ul><p><strong>Keywords</strong></p><ul><li><p><code>path::String</code>: Path to store results. If it does not exist yet it will be created during   the simulation. (optional)</p></li><li><p><code>freq::Int</code>: Output frequency of result files. A output file will be written every   <code>freq</code>-th time step. (optional)</p></li><li><p><code>fields</code>: Fields that should be exported to output files. Allowed keywords depend on the   selected material model. Please look at the documentation of the material you specified   when creating the body. (optional)</p><p>If <code>spatial_setup</code> is a <strong><code>Body</code></strong>, the <code>fields</code> keyword can be of the form:</p><ul><li><code>fields::Symbol</code>: A symbol specifying a single output field.</li><li><code>fields::NTuple{N,Symbol} where N</code>: A Tuple specifying multiple output fields.</li><li><code>fields::Vector{Symbol}</code>: A Vector specifying multiple output fields.</li></ul><p>If <code>spatial_setup</code> is a <strong><code>MultibodySetup</code></strong>, the <code>fields</code> keyword can also be specified   for every body separately:</p><ul><li><code>fields::Dict{Symbol,T}</code>: A Dictionary containing the fields separately for every   body. <code>T</code> is here every possible type of the <code>fields</code> keyword that can be used for a   single body.</li></ul></li></ul><div class="admonition is-info"><header class="admonition-header">No file export</header><div class="admonition-body"><p>If no keyword is specified when creating a <code>Job</code>, then no files will be exported.</p></div></div><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; job = Job(multibody_setup, verlet_solver; path=&quot;my_results/sim1&quot;)
Job:
  spatial_setup  25880-point MultibodySetup
  time_solver    VelocityVerlet(n_steps=2000, safety_factor=0.7)
  options        export_allowed=true, freq=10</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/core/job.jl#L3-L43">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.submit" href="#Peridynamics.submit"><code>Peridynamics.submit</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">submit(job::Job; kwargs...)</code></pre><p>Submits the job to start calculations</p><p><strong>Arguments</strong></p><ul><li><code>job::Job</code>: Job that contains all defined parameters and conditions.</li></ul><p><strong>Keywords</strong></p><ul><li><code>quiet::Bool</code>: If <code>true</code>, no outputs are printed in the terminal.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/core/submit.jl#L3-L14">source</a></section></article><h2 id="Postprocessing"><a class="docs-heading-anchor" href="#Postprocessing">Postprocessing</a><a id="Postprocessing-1"></a><a class="docs-heading-anchor-permalink" href="#Postprocessing" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.VtkReader.read_vtk" href="#Peridynamics.VtkReader.read_vtk"><code>Peridynamics.VtkReader.read_vtk</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">read_vtk(file::AbstractString)</code></pre><p>Read vtu or pvtu file containing simulation results of a time step.</p><p><strong>Arguments</strong></p><ul><li><code>file::String</code>: Path to VTK file in vtu or pvtu format</li></ul><p><strong>Returns</strong></p><ul><li><code>Dict{String, VecOrMat{Float64}}</code>: Simulation results as a dictionary</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; read_vtk(&quot;results/fragmenting_cylinder/vtk/timestep_000520.pvtu&quot;)
Dict{Symbol, VecOrMat{Float64}} with 4 entries:
  :position     =&gt; [0.0263309 0.027315 … 0.0293543 0.030339; 0.000292969 0.000294475…
  :displacement =&gt; [0.00583334 0.00581883 … 0.00585909 0.00584271; -0.000162852 -0.0…
  :damage       =&gt; [0.616071, 0.569343, 0.528571, 0.463415, 0.438776, 0.553571, 0.56…
  :time         =&gt; [9.69363e-5]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/VtkReader/VtkReader.jl#L277-L298">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Peridynamics.process_each_export" href="#Peridynamics.process_each_export"><code>Peridynamics.process_each_export</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">process_each_export(f, vtk_path; kwargs...)
process_each_export(f, job; kwargs...)</code></pre><p>A function for postprocessing every exported file. This function works with multithreading and MPI and determines the backend exactly like the <a href="#Peridynamics.submit"><code>submit</code></a> function.</p><p><strong>Arguments</strong></p><ul><li><code>f::Function</code>: The processing function with signature <code>f(r0, r, id)</code>.<ul><li><code>r0</code>: The results of <a href="#Peridynamics.VtkReader.read_vtk"><code>read_vtk</code></a> for the exported file of the reference   results.</li><li><code>r</code>: The results of <a href="#Peridynamics.VtkReader.read_vtk"><code>read_vtk</code></a> for a time step.</li><li><code>id::Ind</code>: An ID indicating the number of the exported file (counted from 1, starting   with the reference file).</li></ul></li><li><code>vtk_path::AbstractString</code>: A path that should contain the export results of a simulation.</li><li><code>job::Job</code>: A job object. The path of the VTK files will then be processed from the   job options.</li></ul><p><strong>Keywords</strong></p><ul><li><code>serial::Bool</code>: If <code>true</code>, all results will be processed in the correct order of the time   steps and on a single thread, cf. the MPI root rank.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kaipartmann/Peridynamics.jl/blob/3d2a00be3bf3f2068c2022debbac9f6cefbda1ec/src/auxiliary/process_each_export.jl#L3-L24">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../generated/tutorial_logo/">« Peridynamics.jl Logo</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.5.0 on <span class="colophon-date" title="Monday 8 July 2024 08:38">Monday 8 July 2024</span>. Using Julia version 1.10.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
