<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Multithreading &amp; MPI · Peridynamics.jl</title><meta name="title" content="Multithreading &amp; MPI · Peridynamics.jl"/><meta property="og:title" content="Multithreading &amp; MPI · Peridynamics.jl"/><meta property="twitter:title" content="Multithreading &amp; MPI · Peridynamics.jl"/><meta name="description" content="Documentation for Peridynamics.jl."/><meta property="og:description" content="Documentation for Peridynamics.jl."/><meta property="twitter:description" content="Documentation for Peridynamics.jl."/><meta property="og:url" content="https://kaipartmann.github.io/Peridynamics.jl/dev_multithreading_mpi/"/><meta property="twitter:url" content="https://kaipartmann.github.io/Peridynamics.jl/dev_multithreading_mpi/"/><link rel="canonical" href="https://kaipartmann.github.io/Peridynamics.jl/dev_multithreading_mpi/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/custom.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="Peridynamics.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">Peridynamics.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Explanations</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../expl_general_pd/">Basics of peridynamics theory</a></li><li><a class="tocitem" href="../expl_bondbased/">Bond-based peridynamics</a></li><li><a class="tocitem" href="../expl_osbased/">Ordinary state-based peridynamics</a></li><li><a class="tocitem" href="../expl_nosbased/">Non-ordinary state-based peridynamics</a></li><li><a class="tocitem" href="../expl_continuumbased/">Continuum-kinematics-inspired peridynamics</a></li><li><a class="tocitem" href="../expl_damage/">Damage in peridynamics formulations</a></li><li><a class="tocitem" href="../expl_references/">References</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">How-to guides</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../howto_mpi/">Simulations with MPI</a></li><li><a class="tocitem" href="../howto_visualization/">Visualization with ParaView</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../generated/tutorial_tension_static/">Tensile test quasi-static</a></li><li><a class="tocitem" href="../generated/tutorial_tension_dynfrac/">Tensile test dynamic</a></li><li><a class="tocitem" href="../generated/tutorial_tension_precrack/">Tension with predefined crack</a></li><li><a class="tocitem" href="../generated/tutorial_wave_in_bar/">Wave propagation in a thin bar</a></li><li><a class="tocitem" href="../generated/tutorial_wave_interface/">Wave propagation across material interface</a></li><li><a class="tocitem" href="../generated/tutorial_kalthoff-winkler_dynfrac/">Kalthoff-Winkler experiment</a></li><li><a class="tocitem" href="../generated/tutorial_logo/">The old Peridynamics.jl logo</a></li><li><a class="tocitem" href="../generated/tutorial_cylinder/">Fragmenting Cylinder</a></li><li><a class="tocitem" href="../generated/tutorial_brazilian_test/">Brazilian Test</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox" checked/><label class="tocitem" for="menuitem-5"><span class="docs-label">Development</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../dev_systems/">Systems</a></li><li><a class="tocitem" href="../dev_materials/">Materials</a></li><li><a class="tocitem" href="../dev_solvers/">Time solvers</a></li><li class="is-active"><a class="tocitem" href>Multithreading &amp; MPI</a><ul class="internal"><li><a class="tocitem" href="#Multithreading"><span>Multithreading</span></a></li><li><a class="tocitem" href="#MPI"><span>MPI</span></a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../public_api_reference/">Public API</a></li><li><a class="tocitem" href="../private_api_reference/">Private API</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Development</a></li><li class="is-active"><a href>Multithreading &amp; MPI</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Multithreading &amp; MPI</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/kaipartmann/Peridynamics.jl/blob/main/docs/src/dev_multithreading_mpi.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Multithreading-and-MPI"><a class="docs-heading-anchor" href="#Multithreading-and-MPI">Multithreading &amp; MPI</a><a id="Multithreading-and-MPI-1"></a><a class="docs-heading-anchor-permalink" href="#Multithreading-and-MPI" title="Permalink"></a></h1><div class="admonition is-warning" id="Draft-and-Work-in-Progress-a10926cd10e5cd54"><header class="admonition-header">Draft &amp; Work in Progress<a class="admonition-anchor" href="#Draft-and-Work-in-Progress-a10926cd10e5cd54" title="Permalink"></a></header><div class="admonition-body"><p>This documentation is a draft and work in progress. It will be extended and improved in the future.</p></div></div><p>Multithreading and MPI are implemented based on a similar approach. The body is split into several chunks, that each have their own process.</p><img src="https://github.com/user-attachments/assets/86caad93-8a56-495b-822a-ffccc5c43c9e" width="650"/><p>There are two types of points. Each chunk consists of the local points, which lay inside the specific body chunk, as well as halo points, which lay on the surface of neighboring chunks and interact with local points of the considered chunk, because they lay inside their horizons. </p><p>This means that every point of a body exists locally in the body chunk that it originally lies in. Additionally one or more copies of the point can exist as halo points in other chunks.</p><img src="https://github.com/user-attachments/assets/79340f51-cb62-42b2-8f1b-fd474f7fe8fb" width="350"/><p>Since there are points that exist in multiple chunks (in one chunk as local points and possibly in one or more chunks as halo points) information has to be exchanged between these copies of specific points.   Two types of exchanges are of importance for both methods:</p><ul><li>local-to-halo exchange: Data from calculations in the chunk where the point is local is transferred to the halo versions of this point which exist in other chunks.</li></ul><img src="https://github.com/user-attachments/assets/34434920-a758-438a-a463-a259397f1bba" width="350"/><ul><li>halo-to-local exchange: Data from calculations of the one or multiple halo versions of a point is transferred to the local version of the point.</li></ul><img src="https://github.com/user-attachments/assets/6265e5b8-bff5-4aa3-83b7-62a385578f37" width="350"/><p>A body chunk contains all information that is necessary for the simulation:</p><img src="https://github.com/user-attachments/assets/c2cd75de-065e-4568-abde-e753216f3e85" width="650"/><h2 id="Multithreading"><a class="docs-heading-anchor" href="#Multithreading">Multithreading</a><a id="Multithreading-1"></a><a class="docs-heading-anchor-permalink" href="#Multithreading" title="Permalink"></a></h2><p>To manage the body chunks that compose a body in multithreading a <code>ThreadsDataHandler</code> is employed. It combines information about all the body chunks of the system and all halo exchanges between them.</p><img src="https://github.com/user-attachments/assets/48e61d30-cfd5-424c-bc36-c52485a00dc2" width="250"/><h2 id="MPI"><a class="docs-heading-anchor" href="#MPI">MPI</a><a id="MPI-1"></a><a class="docs-heading-anchor-permalink" href="#MPI" title="Permalink"></a></h2><p>For MPI simulations an <code>MPIDataHandler</code> is used for each body chunk, processing its halo exchanges and further MPI-related information.</p><img src="https://github.com/user-attachments/assets/ab389e50-05f7-4d6e-8b0d-992fb6c79a75" width="250"/></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../dev_solvers/">« Time solvers</a><a class="docs-footer-nextpage" href="../public_api_reference/">Public API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Tuesday 14 October 2025 14:20">Tuesday 14 October 2025</span>. Using Julia version 1.12.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
